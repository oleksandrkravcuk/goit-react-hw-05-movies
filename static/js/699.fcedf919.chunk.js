"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[699],{699:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(439),c=r(791),a=r(87),s=r(689),o="Search_container__JDaLY",i="Search_movieList__Rr3Hv",u="Search_movieListItem__j6mDz",l="Search_form__KGT+E",f="Search_input__PXR0c",h="Search_searchButton__8Jp1t",_=r(184),m=function(){var e=(0,a.lr)(),t=(0,n.Z)(e,2),r=t[0],m=t[1],d=(0,c.useState)(r.get("query")||""),v=(0,n.Z)(d,2),p=v[0],S=v[1],y=(0,c.useState)([]),g=(0,n.Z)(y,2),j=g[0],x=g[1],b=(0,c.useState)(!1),w=(0,n.Z)(b,2),N=w[0],k=w[1],q=(0,s.TH)(),E=r.get("query")||"";(0,c.useEffect)((function(){E&&N&&Z(E).then((function(e){if(0===e.total_results)return alert("Sorry, we didn't find any results for ".concat(E,"."));x(e.results)})).catch((function(e){return console.error("Error fetching movies:",e)}))}),[E,N]);var Z=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("eed14fd55202ee0e89c15a259f6aa876","&query=").concat(e)).then((function(e){return e.json()}))};return(0,_.jsxs)("div",{className:o,children:[(0,_.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),m({query:p}),k(!0),p?Z(p).then((function(e){if(0===e.total_results)return alert("Sorry, we didn't find any results for ".concat(p,"."));x(e.results)})).catch((function(e){console.error("Error fetching movies:",e),x([])})):x([])},children:[(0,_.jsx)("input",{className:f,type:"text",value:p,onChange:function(e){S(e.target.value)}}),(0,_.jsx)("button",{type:"submit",className:h,children:"Search"})]}),N&&(0,_.jsx)("ul",{className:i,children:j.map((function(e){var t=e.title,r=e.id;return(0,_.jsx)("li",{className:u,children:(0,_.jsx)(a.rU,{to:"/movies/".concat(r),state:{from:q},children:t})},r)}))})]})}}}]);
//# sourceMappingURL=699.fcedf919.chunk.js.map